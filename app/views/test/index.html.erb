<head>
	<script src="/assets/backbone-min.js" type="text/javascript"></script>
	<script src="/assets/underscore-min.js" type="text/javascript"></script>
</head>
<div id="therapists" style="margin-top:45px; height:100%; width:100%;">
	<div class="therapist-listing">
		<!-- <div id="therapist-template"><h2></h2></div> -->
	</div>
</div>
<script>

	// var TherapistListing = Backbone.Model.extend({urlRoot: '/api/v1/therapists'});
	// var therapist = new TherapistListing({id: 1});

	// therapist.fetch();

	var Therapist = Backbone.Model.extend({});
	var TherapistListings = Backbone.Collection.extend({url: '/api/v1/therapists', model: Therapist});
	var therapists = new TherapistListings({});
	therapists.fetch();

	var TherapistView = Backbone.View.extend({
		el: '.therapist-listing',
		initialize: function() {
			this.template = _.template("<h2>{{= name }}</h2>");
			this.listenTo(this.collection, "sync", this.render);
			// this.collection.bind("sync", this.render, this);
		},
		render: function(){
			// debugger;
			this.collection.each(function(model){

				console.log(this.model.get('name'));
			// var html = '<h2>' + this.model.get('name') + '</h2>' + '<p>' + this.model.get('description') + '</p>';
			// $(this.el).html(html);
	  //   return this;
	  });
		}
	});

	var therapistView = new TherapistView({collection: therapists});

	// var TherapistView = Backbone.View.extend({
	// 	el: '.therapist-listing',
	// 	initialize: function() {
	// 		this.listenTo(this.model, "change", this.render);
	// 	},
	// 	render: function(){
	// 		var html = '<h2>' + this.model.get('name') + '</h2>' + '<p>' + this.model.get('description') + '</p>';
	// 		$(this.el).html(html);
	// 		return this;
	// 	}
	// });

	// var therapistView = new TherapistView({model: therapist});
</script>

